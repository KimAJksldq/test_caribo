<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="keywords" content="웹툰작가, 디자이너, 프리랜서, 디자인">
    <meta name="description" content="안녕하세요 웹툰작가 카리보의 작업물 아카이빙입니다.">
    <meta name="author" content="CARIBO">
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://kimajksldq.github.io/test_caribo" />
    <meta property="og:title" content="웹툰작가 카리보 포트폴리오">
    <meta property="og:image" content="./img/thumbnail.jpg">
    <meta property="og:description" content="안녕하세요 웹툰작가 카리보의 작업물 아카이빙입니다.">
    <meta property="og:site_name" content="카리보의 작업물 아카이빙" />
    <meta property="og:locale" content="en_US">
    <meta name="google-site-verification" content="al2TR8ofBW3b_Ia-uvwNrmpv85Zcs0VL6Fzof0Is7Jc" />
    <title>웹툰작가 카리보 포트폴리오</title>
    <script src="./js/lottie.js"></script>
    <script src="./js/jquery.min.js"></script>
    <script src="./js/jquery.smoothwheel.js"></script>
    <script src="./js/card1.js"></script>
    <script src="./js/card2.js"></script>
    <script src="./js/card3.js"></script>
    <link href="./css/card1.css" rel="stylesheet" />
    <link href="./css/card2.css" rel="stylesheet" />
    <link rel="stylesheet" href="./css/styles.css" />
    <link rel="shortcut icon" href="./img/favicon.ico">
  </head>
  <body>
    <script>
    let completedImgCnt = 0;
    const loadingImg = () => {
      completedImgCnt = completedImgCnt + 1
      if (completedImgCnt === 13){
        $("#loadingWrap").addClass("open")
      }
    }
    </script>
    <div id="loadingWrap">
      <div class="bg"></div>
      <lottie-player src="./img/pencil.json" background="transparent" speed="1" style="width: 400px; height: 400px;" loop autoplay></lottie-player>
    </div>
    <nav>
      <ul>
        <li class="on">
          <span class="icon"></span>
          <span>
            <p>카리보 프로필</p>
          </span>
        </li>
        <li>
          <span class="icon"></span>
          <span>
            <p>어망결에 로맨스</p>
          </span>
        </li>
        <li>
          <span class="icon"></span>
          <span>
            <p><p>제3경호팀</p></p>
          </span>
        </li>
        <li>
          <span class="icon"></span>
          <span>
            <p>청년시장</p>
          </span>
        </li>
        <li>
          <span class="icon"></span>
          <span>
            <p>오해가 계속되면 오예입니다.</p>
          </span>
        </li>
        <li>
          <span class="icon"></span>
          <span>
            <p>갤러리</p>
          </span>
        </li>
      </ul>
    </nav>
    <main id="main" class="scroll">
      <div class="inner">
        <!-- 카리보 프로필 -->
        <section id="section1" class="s1 on">
          <span class="bg"></span>
          <div class="inner">
            <div class="wrap">
              <dl>
                <dt>
                  <span class="profile__img">
                    <img onload="loadingImg()" id="img1" src="./img/profile/caribo.png" alt="Caribo 캐리커처">
                  </span>
                </dt>
                <dd>
                  <small>안녕하세요?</small>
                  <strong class="f__bold">웹툰작가 &nbsp;<b>카리보</b>&nbsp;입니다.</strong>
                </dd>
              </dl>
              <ul>
                <li>
                  <dl>
                    <dt class="f__regular">Tel.&nbsp;</dt>
                    <dd class="f__regular">010-2725-1185</dd>
                  </dl>
                </li>
                <li>
                  <dl>
                    <dt class="f__regular">Twitter.&nbsp;</dt>
                    <dd class="f__regular">@nnkstory</dd>
                  </dl>
                </li>
                <li>
                  <dl>
                    <dt class="f__regular">Mail.&nbsp;</dt>
                    <dd class="f__regular">nnkstory@naver.com</dd>
                  </dl>
                </li>
                <li>
                  <dl>
                    <dt class="f__regular">Instagram.&nbsp;</dt>
                    <dd class="f__regular">@j.ryeon.toon</dd>
                  </dl>
                </li>
              </ul>
            </div>
          </div>
        </section>
        <!-- // 카리보 프로필 -->
        <!-- 어망결에 로맨스 -->
        <section id="section2">
          <div class="inner">
            <img onload="loadingImg()" id="img2" src="./img/section2/poster.png" alt="어망결에 로맨스 포스터">
            <dl>
              <dt>
                <img onload="loadingImg()" id="img3" src="./img/section2/logo.png" alt="어망결에 로맨스 로고">
              </dt>
              <dd>
                <ul>
                  <li class="bomtoon">
                    <a href="https://bomtoon.com/comic/ep_list/unguarded" target="_blank">
                      <img src="./img/bomtoon.png" alt="봄툰 로고">
                    </a>
                  </li>
                  <li class="ktoon">
                    <a href="https://myktoon.com/web/works/list.kt?worksseq=10800" target="_blank"> <img src="./img/ktoon.png" alt="케이툰 로고"></a>
                  </li>
                  <li class="naver">
                    <a href="https://series.naver.com/comic/detail.series?productNo=8571043" target="_blank">
                       <img src="./img/naver.png" alt="네이버 시리즈 로고">
                    </a>
                  </li>
                </ul>
              </dd>
            </dl>
          </div>
        </section>
        <!-- // 어망결에 로맨스 -->
        <!-- 제3경호팀 -->
        <section id="section3">
          <div class="inner">
            <img onload="loadingImg()" id="img4" src="./img/section3/poster.png" alt="제3경호팀 포스터">
            <dl>
              <dt>
                <img onload="loadingImg()" id="img5" src="./img/section3/logo.png" alt="제3경호팀 로고">
              </dt>
              <dd>
                <ul>
                  <li class="lezhin">
                    <a href="https://www.lezhin.com/ko/comic/3rd_security" target="_blank">
                       <img src="./img/lezhin.png" alt="레진코믹스 로고">
                    </a>
                </ul>
              </dd>
            </dl>
          </div>
        </section>
        <!-- // 제3경호팀  -->
        <!-- 청년시장 -->
        <section id="section4">
          <div class="inner">
            <img onload="loadingImg()" id="img6" src="./img/section4/poster.png" alt="청년시장 포스터">
            <dl>
              <dt>
                <img onload="loadingImg()" id="img7" src="./img/section4/logo.png" alt="청년시장 로고">
              </dt>
              <dd>
                <ul>
                  <li class="kakao">
                    <a href="https://page.kakao.com/content/50392468" target="_blank">
                       <img src="./img/kakao.png" alt="카카오페이지 로고">
                    </a>
                  </li>
                </ul>
              </dd>
            </dl>
          </div>
        </section>
        <!-- // 청년시장  -->
        <!-- 오해가 계속되면 오예입니다 -->
        <section id="section5">
          <div class="inner">
            <img onload="loadingImg()" id="img8" src="./img/section5/poster.png" alt="오해가 계속되면 오예입니다 포스터">
            <dl>
              <dt>
                <img onload="loadingImg()" id="img9" src="./img/section5/logo.png" alt="오해가 계속되면 오예입니다 로고">
              </dt>
              <dd>
                <ul>
                  <li class="bomtoon">
                    <a href="https://www.bomtoon.com/comic/ep_list/oheoye" target="_blank">
                      <img src="./img/bomtoon.png" alt="봄툰 로고">
                    </a>
                  </li>
                  <li class="lezhin">
                    <a href="https://www.lezhin.com/ko/comic/oheoye" target="_blank">
                      <img src="./img/lezhin.png" alt="레진코믹스 로고"></a>
                  </li>
                  <li class="naver">
                    <a href="https://series.naver.com/comic/detail.series?productNo=8046457" target="_blank">
                       <img src="./img/naver.png" alt="네이버 시리즈 로고">
                    </a>
                </ul>
              </dd>
            </dl>
          </div>
        </section>
        <!-- // 오해가 계속되면 오예입니다  -->
        <!-- 갤러리 -->
        <section id="section6">
          <div class="inner" ng-app="starter" no-scroll>
            <ion-pane ng-controller="CardsCtrl">
              <!-- <ion-header-bar class="bar-default">
                <h3 class="gallery__title">TD Cards</h1>
                <h4 class="gallery__sub__title">이미지 카드를 넘기거나 클릭해보세요</h1>
              </ion-header-bar> -->
      
              <td-cards id="tdCards">
                <td-card
                  ng-repeat="card in cards"
                  on-destroy="cardDestroyed($index)"
                  on-swipe-left="cardSwipedLeft($index)"
                  on-swipe-right="cardSwipedRight($index)"
                  on-partial-swipe="cardPartialSwipe(amt)"
                  class="card-{{$index}}"
                >
                  <div class="image" ng-controller="CardCtrl">
                    <div class="no-text">NOPE</div>
                    <img onload="loadingImg()" ng-src="{{card.image}}" />
                    <div class="yes-text">LIKE</div>
                  </div>
                </td-card>
                <p class="notice">이미지를 넘기거나 클릭하세요.</p>
              </td-cards>
            </ion-pane>
          </div>
        </section>
        <!-- // 갤러리 -->
      </div>
    </main>
    <script>
      $(document).ready(function () {
        let scrollY = 0;
        let screenHeight = screen.height;
        const sectionArray  = [
          $("#section1"),
          $("#section2"),
          $("#section3"),
          $("#section4"),
          $("#section5"),
          $("#section6"),
        ]

        $("nav ul>li>.icon").click(function () {
          const idx = $(this).parent().index();
          if(scrollY < idx) {
            $('#main').animate({scrollTop : sectionArray[idx][0].offsetTop + 10 }, 400);
          } else {
            $('#main').animate({scrollTop : sectionArray[idx][0].offsetTop - 10  }, 400);
            $('#main').animate({scrollTop : sectionArray[idx][0].offsetTop + 0.0001 }, 10);
          }
        });

        let lastScrollY = 0;
        $("#main.scroll").scroll(function(){
            const lScrollY = $("#main").scrollTop();
            // 이전의 스크롤 위치와 비교하기
            const direction = lScrollY > lastScrollY ? "Scroll Down" : "Scroll Up";
             // 현재의 스크롤 값을 저장
            lastScrollY = lScrollY;
            if(direction === "Scroll Down"){
              for(let i = 0 ; i < sectionArray.length ; i ++) {
                if(sectionArray[i][0].offsetTop - 20 < $("#main").scrollTop()) {
                  if(scrollY < i) {
                    scrollY = i;
                    activeSection(i)
                  } 
                } else {
                  if($("#main").scrollTop() === 0) {
                    scrollY = 0
                    activeSection(0)
                  }
                  if(scrollY > i) {
                    scrollY = i
                    activeSection(i)
                  } 
                }
              } 
            } else if (direction === "Scroll Up") {
              for(let i = 0 ; i < sectionArray.length ; i ++) {
                if(sectionArray[i][0].offsetTop + $(sectionArray[i][0]).height() / 2 < $("#main").scrollTop()) {
                  if(scrollY < i) {
                    scrollY = i;
                    activeSection(i)
                  } 
                } else {
                  if($("#main").scrollTop() === 0) {
                    scrollY = 0
                    activeSection(0)
                  }
                  if(scrollY > i) {
                    scrollY = i
                    activeSection(i)
                  } 
                }
              } 
            }
        })

        const activeSection = (idx) => {
          $("nav ul>li").removeClass("on")
          $("#main>.inner>section").removeClass("on")
          $("nav ul>li").eq(idx).addClass("on")
          $("#main>.inner>section").eq(idx).addClass("on")
        }

        $(window).resize(function(){
          if(screenHeight < $(window).height()){
            screenHeight = $(window).height()
            $("#main.scroll").smoothWheel();
          } 
        })
        $("#main.scroll").smoothWheel();
      });
    </script>
    <!--  -->
     <script>
      angular
        .module('starter', ['ionic', 'ionic.contrib.ui.tinderCards'])

        .directive('noScroll', function ($document) {
          return {
            restrict: 'A',
            link: function ($scope, $element, $attr) {
              $document.on('touchmove', function (e) {
                e.preventDefault();
              });
            },
          };
        })

        .controller('CardsCtrl', function ($scope, TDCardDelegate) {
          console.log('CARDS CTRL');
          var cardTypes = [
            {
              image:
                './img/test_img.jpg',
            },
            {
              image:
                './img/test_img.jpg',
            },
            {
              image: './img/test_img.jpg',
            },
            {
              image:
                './img/test_img.jpg',
            },
          ];

          $scope.cards = Array.prototype.slice.call(cardTypes, 0);

          $scope.cardDestroyed = function (index) {
            $scope.cards.splice(index, 1);
          };

          $scope.addCard = function () {
            var newCard = cardTypes[Math.floor(Math.random() * cardTypes.length)];
            newCard.id = Math.random();
            $scope.cards.push(angular.extend({}, newCard));
          };
        })

        .controller('CardCtrl', function ($scope, TDCardDelegate) {
          $scope.cardSwipedLeft = function (index) {
            console.log('LEFT SWIPE');
            $scope.addCard();
          };
          $scope.cardSwipedRight = function (index) {
            console.log('RIGHT SWIPE');
            $scope.addCard();
          };
        });
    </script>
  </body>
</html>
